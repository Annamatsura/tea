"use strict";(self.webpackChunkkontrolnaya23new=self.webpackChunkkontrolnaya23new||[]).push([[24],{3024:(C,l,i)=>{i.r(l),i.d(l,{OrderModule:()=>A});var s=i(6895),d=i(646),e=i(433),u=i(8256),m=i(773);function c(t,r){1&t&&(u.TgZ(0,"div",7)(1,"div",24),u._uU(2," \u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e "),u.qZA()())}function p(t,r){1&t&&(u.TgZ(0,"div",25)(1,"div",24),u._uU(2," \u0418\u043c\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e "),u.qZA()())}function v(t,r){1&t&&(u.TgZ(0,"div",25)(1,"div",24),u._uU(2," \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u0432\u0435\u0440\u043d\u043e "),u.qZA()())}function g(t,r){1&t&&(u.TgZ(0,"div",25)(1,"div",24),u._uU(2," \u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e "),u.qZA()())}function f(t,r){1&t&&(u.TgZ(0,"div",25)(1,"div",24),u._uU(2," \u0421\u0442\u0440\u0430\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u0432\u0435\u0440\u043d\u043e "),u.qZA()())}function h(t,r){1&t&&(u.TgZ(0,"div",25)(1,"div",24),u._uU(2," \u0418\u043d\u0434\u0435\u043a\u0441 \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e "),u.qZA()())}function I(t,r){1&t&&(u.TgZ(0,"div",7)(1,"div",24),u._uU(2," \u0410\u0434\u0440\u0435\u0441 \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e "),u.qZA()())}function Z(t,r){if(1&t){const n=u.EpF();u.TgZ(0,"div",3)(1,"h2",4),u._uU(2,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.TgZ(3,"div",5),u.NdJ("ngSubmit",function(){u.CHM(n);const y=u.oxw();return u.KtG(y.createOrder())}),u.TgZ(4,"div",6)(5,"div",7)(6,"div",8),u._uU(7,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(8,"input",9),u.qZA(),u.YNc(9,c,3,0,"div",10),u.qZA(),u.TgZ(10,"div",6)(11,"div",11)(12,"div",8),u._uU(13,"\u0418\u043c\u044f"),u.qZA(),u._UZ(14,"input",12),u.YNc(15,p,3,0,"div",13),u.qZA(),u.TgZ(16,"div",14)(17,"div",8),u._uU(18,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(19,"input",15),u.YNc(20,v,3,0,"div",13),u.qZA(),u.TgZ(21,"div",11)(22,"div",8),u._uU(23,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(24,"input",16),u.YNc(25,g,3,0,"div",13),u.qZA()(),u.TgZ(26,"div",6)(27,"div",17)(28,"div",8),u._uU(29,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(30,"input",18),u.YNc(31,f,3,0,"div",13),u.qZA(),u.TgZ(32,"div",17)(33,"div",8),u._uU(34,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(35,"input",19),u.YNc(36,h,3,0,"div",13),u.qZA()(),u.TgZ(37,"div",6)(38,"div",7)(39,"div",8),u._uU(40,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(41,"input",20),u.qZA(),u.YNc(42,I,3,0,"div",10),u.qZA(),u.TgZ(43,"div",6)(44,"div",7)(45,"div",8),u._uU(46,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(47,"input",21),u.qZA()(),u.TgZ(48,"div",22)(49,"button",23),u._uU(50,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA()()()()}if(2&t){const n=u.oxw();u.xp6(3),u.Q6J("formGroup",n.signInForm),u.xp6(6),u.Q6J("ngIf",(null==n.product?null:n.product.invalid)&&((null==n.product?null:n.product.dirty)||(null==n.product?null:n.product.touched))),u.xp6(6),u.Q6J("ngIf",(null==n.name?null:n.name.invalid)&&((null==n.name?null:n.name.dirty)||(null==n.name?null:n.name.touched))),u.xp6(5),u.Q6J("ngIf",(null==n.surname?null:n.surname.invalid)&&((null==n.surname?null:n.surname.dirty)||(null==n.surname?null:n.surname.touched))),u.xp6(5),u.Q6J("ngIf",(null==n.phone?null:n.phone.invalid)&&((null==n.phone?null:n.phone.dirty)||(null==n.phone?null:n.phone.touched))),u.xp6(6),u.Q6J("ngIf",(null==n.country?null:n.country.invalid)&&((null==n.country?null:n.country.dirty)||(null==n.country?null:n.country.touched))),u.xp6(5),u.Q6J("ngIf",(null==n.zip?null:n.zip.invalid)&&((null==n.zip?null:n.zip.dirty)||(null==n.zip?null:n.zip.touched))),u.xp6(6),u.Q6J("ngIf",(null==n.address?null:n.address.invalid)&&((null==n.address?null:n.address.dirty)||(null==n.address?null:n.address.touched))),u.xp6(7),u.Q6J("disabled",n.signInForm.invalid||n.signInForm.disabled)}}function _(t,r){1&t&&(u.TgZ(0,"div",26),u._uU(1," \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!\n"),u.qZA())}function D(t,r){1&t&&(u.TgZ(0,"div",27),u._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.\n"),u.qZA())}const F=[{path:"order",component:(()=>{class t{constructor(n,o){this.activatedRoute=n,this.productService=o,this.signInForm=new e.cw({product:new e.NI({value:"",disabled:!0}),name:new e.NI("",[e.kI.required,e.kI.pattern("[\u0410-\u042f\u0430-\u044f ]*")]),surname:new e.NI("",[e.kI.required,e.kI.pattern("[\u0410-\u042f\u0430-\u044f ]*")]),phone:new e.NI("",[e.kI.required,e.kI.pattern("(\\s*)?(\\+)?([- _():=+]?\\d[- _():=+]?){10,14}(\\s*)?$")]),country:new e.NI("",[e.kI.required]),zip:new e.NI("",[e.kI.required,e.kI.pattern("[0-9]*"),e.kI.minLength(6),e.kI.maxLength(6)]),address:new e.NI("",[e.kI.required,e.kI.pattern("[\u0410-\u042f\u0430-\u044f0-9\\/\\s-]*")]),comment:new e.NI("",[])}),this.subscription=null,this.subscriptionOrder=null,this.thanksDiv=!1,this.errorDiv=!1,this.formDiv=!0,this.productName=""}ngOnInit(){this.subscription=this.activatedRoute.queryParams.subscribe(n=>{n.product&&(this.productName=n.product,this.signInForm.patchValue({product:n.product}))})}get product(){return this.signInForm.get("product")}get name(){return this.signInForm.get("name")}get surname(){return this.signInForm.get("surname")}get phone(){return this.signInForm.get("phone")}get country(){return this.signInForm.get("country")}get zip(){return this.signInForm.get("zip")}get address(){return this.signInForm.get("address")}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscriptionOrder?.unsubscribe()}createOrder(){this.signInForm.value.name&&this.signInForm.value.surname&&this.signInForm.value.phone&&this.signInForm.value.country&&this.signInForm.value.zip&&this.productName&&this.signInForm.value.address?this.subscriptionOrder=this.productService.createOrder({name:this.signInForm.value.name,last_name:this.signInForm.value.surname,phone:this.signInForm.value.phone,country:this.signInForm.value.country,zip:this.signInForm.value.zip,product:this.productName,address:this.signInForm.value.address,comment:this.signInForm.value.comment}).subscribe(n=>{n.success&&!n.message?(this.formDiv=!1,this.errorDiv=!1,this.thanksDiv=!0):this.errorDiv=!0}):this.errorDiv=!0}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(d.gz),u.Y36(m.M))},t.\u0275cmp=u.Xpm({type:t,selectors:[["order"]],decls:3,vars:3,consts:[["class","container text-center mt-5 pt-4 order-form",4,"ngIf"],["class"," fs-2 fw-bold container text-center mt-5 pt-4",4,"ngIf"],["class"," fs-2 fw-bold container text-center mt-5 pt-4 text-danger",4,"ngIf"],[1,"container","text-center","mt-5","pt-4","order-form"],[1,"fw-bold"],[1,"col-lg-6","m-auto",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"text-start","fw-normal"],["type","text","formControlName","product","aria-label","\u0410\u0434\u0440\u0435\u0441","id","product",1,"form-control"],["class","col-lg-12 mb-3",4,"ngIf"],[1,"col-lg-4","mb-3"],["type","text","formControlName","name","aria-label","\u0418\u043c\u044f","id","name",1,"form-control"],["class","w-100 mb-3",4,"ngIf"],[1,"col-lg-4"],["type","text","formControlName","surname","aria-label","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","id","surname",1,"form-control"],["type","tel","formControlName","phone","aria-label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","id","phone",1,"form-control"],[1,"col-lg-6","mb-3"],["type","text","formControlName","country","aria-label","\u0421\u0442\u0440\u0430\u043d\u0430","id","country",1,"form-control"],["type","text","formControlName","zip","aria-label","\u0418\u043d\u0434\u0435\u043a\u0441","id","index",1,"form-control"],["type","text","formControlName","address","aria-label","\u0410\u0434\u0440\u0435\u0441",1,"form-control"],["type","text","formControlName","comment","aria-label","\u0410\u0434\u0440\u0435\u0441","id","comment",1,"form-control"],[1,"text-start"],["id","form-submit",1,"btn","btn-primary","w-100","mt-4",3,"disabled"],[1,"text-danger"],[1,"w-100","mb-3"],[1,"fs-2","fw-bold","container","text-center","mt-5","pt-4"],[1,"fs-2","fw-bold","container","text-center","mt-5","pt-4","text-danger"]],template:function(n,o){1&n&&(u.YNc(0,Z,51,9,"div",0),u.YNc(1,_,2,0,"div",1),u.YNc(2,D,2,0,"div",2)),2&n&&(u.Q6J("ngIf",o.formDiv),u.xp6(1),u.Q6J("ngIf",o.thanksDiv),u.xp6(1),u.Q6J("ngIf",o.errorDiv))},dependencies:[s.O5,e.Fj,e.JJ,e.JL,e.sg,e.u]}),t})()}];let a=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[d.Bz.forChild(F),d.Bz]}),t})();var x=i(4466);let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[s.ez,x.m,d.Bz,e.UX,a,a]}),t})()}}]);